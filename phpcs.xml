<?xml version="1.0"?>
<ruleset name="Silver Assist Settings Hub">
	<description>Coding standards for Silver Assist Settings Hub package</description>

	<!-- What to scan -->
	<file>src</file>
	<file>tests</file>

	<!-- Exclude patterns -->
	<exclude-pattern>*/vendor/*</exclude-pattern>
	<exclude-pattern>*/node_modules/*</exclude-pattern>
	<exclude-pattern>*/coverage/*</exclude-pattern>
	<exclude-pattern>*/.phpunit.cache/*</exclude-pattern>

	<!-- Show progress -->
	<arg value="ps"/>
	<!-- Show sniff codes in all reports -->
	<arg value="s"/>
	<!-- Use colors in output -->
	<arg name="colors"/>
	<!-- Check up to 20 files simultaneously -->
	<arg name="parallel" value="20"/>
	<!-- Fail on errors only -->
	<arg name="error-severity" value="1"/>
	<arg name="warning-severity" value="1"/>

	<!-- PHP version compatibility -->
	<config name="testVersion" value="8.3-"/>

	<!-- Use WordPress Coding Standards -->
	<rule ref="WordPress">
		<!-- Allow short array syntax -->
		<exclude name="Generic.Arrays.DisallowShortArraySyntax"/>
		<!-- Allow use statements -->
		<exclude name="PSR2.Namespaces.NamespaceDeclaration"/>
		<!-- Allow classes that don't begin with a capital letter -->
		<exclude name="PEAR.NamingConventions.ValidClassName.Invalid"/>
		<!-- Allow snake_case function names for WordPress compatibility -->
		<exclude name="WordPress.NamingConventions.ValidFunctionName.MethodNameInvalid"/>
	</rule>

	<!-- Use Slevomat Coding Standard -->
	<rule ref="SlevomatCodingStandard.TypeHints.DeclareStrictTypes">
		<properties>
			<property name="spacesCountAroundEqualsSign" value="0"/>
		</properties>
	</rule>
	<rule ref="SlevomatCodingStandard.TypeHints.ParameterTypeHint"/>
	<rule ref="SlevomatCodingStandard.TypeHints.PropertyTypeHint"/>
	<rule ref="SlevomatCodingStandard.TypeHints.ReturnTypeHint"/>
	<rule ref="SlevomatCodingStandard.Namespaces.UnusedUses"/>
	<rule ref="SlevomatCodingStandard.Commenting.EmptyComment"/>
	<rule ref="SlevomatCodingStandard.Arrays.TrailingArrayComma"/>

	<!-- Minimum PHP version -->
	<config name="minimum_supported_wp_version" value="6.5"/>
</ruleset>
